/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
!function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e,n,i,s={isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!!(t&&1===t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function t(e){return s.isUndefined(e)||null===e?"":e+""},bind:t.proxy,each:function(e,n){t.each(e,i);function i(t,e){return n(e,t)}},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,s){if(!(i=n.call(null,s,t,e)))return!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,s){if(i=n.call(null,s,t,e))return!1}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function e(n){return t.isFunction(n)?n:function t(){return String(n)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,s;return function(){var r,a,o=this,u=arguments;return r=function(){i=null,n||(s=t.apply(o,u))},a=n&&!i,clearTimeout(i),i=setTimeout(r,e),a&&(s=t.apply(o,u)),s}},throttle:function(t,e){var n,i,s,r,a,o;return a=0,o=function(){a=new Date,s=null,r=t.apply(n,i)},function(){var u=new Date,c=e-(u-a);return n=this,i=arguments,c<=0?(clearTimeout(s),s=null,a=u,r=t.apply(n,i)):s||(s=setTimeout(o,c)),r}},stringify:function(t){return s.isString(t)?t:JSON.stringify(t)},noop:function(){}},r=(e={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"},function t(n){var i,r,a,o,u,c;return r=s.mixin({},e,n),{css:(i={css:(a={wrapper:{position:"relative",display:"inline-block",width:"100%"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}},s.isMsie()&&s.mixin(a.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),a),classes:r,html:(o=r,{wrapper:'<span class="'+o.wrapper+'"></span>',menu:'<div class="'+o.menu+'"></div>'}),selectors:(u=r,c={},s.each(u,function(t,e){c[e]="."+t}),c)}).css,html:i.html,classes:i.classes,selectors:i.selectors,mixin:function(t){s.mixin(t,i)}}}),a=function(){"use strict";var e,n;function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}return e="typeahead:",n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},s.mixin(i.prototype,{_trigger:function(n,i){var s;return s=t.Event(e+n),(i=i||[]).unshift(s),this.$el.trigger.apply(this.$el,i),s},before:function(t){var e,n;return e=[].slice.call(arguments,1),(n=this._trigger("before"+t,e)).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=n[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),o=function(){"use strict";var t,e=/\s+/,n=window.setImmediate?function t(e){setImmediate(function(){e()})}:function t(e){setTimeout(function(){e()},0)};return{onSync:function t(e,n,s){return i.call(this,"sync",e,n,s)},onAsync:function t(e,n,s){return i.call(this,"async",e,n,s)},off:function t(n){var i;if(!this._callbacks)return this;for(n=n.split(e);i=n.shift();)delete this._callbacks[i];return this},trigger:function t(i){var r,a,o,u,c;if(!this._callbacks)return this;for(i=i.split(e),o=[].slice.call(arguments,1);(r=i.shift())&&(a=this._callbacks[r]);)u=s(a.sync,this,[r].concat(o)),c=s(a.async,this,[r].concat(o)),u()&&n(c);return this}};function i(t,n,i,s){var r,a,o;if(!i)return this;for(n=n.split(e),i=s?(a=i,o=s,a.bind?a.bind(o):function(){a.apply(o,[].slice.call(arguments,0))}):i,this._callbacks=this._callbacks||{};r=n.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(i);return this}function s(t,e,n){return function i(){for(var s,r=0,a=t.length;!s&&r<a;r+=1)s=!1===t[r].apply(e,n);return!s}}}(),u=(n=window.document,i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1},function t(e){var r;(e=s.mixin({},i,e)).node&&e.pattern&&(e.pattern=s.isArray(e.pattern)?e.pattern:[e.pattern],r=function t(e,n,i){for(var r,a=[],o=0,u=e.length;o<u;o++)a.push(s.escapeRegExChars(e[o]));return r=i?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",n?RegExp(r):RegExp(r,"i")}(e.pattern,e.caseSensitive,e.wordsOnly),function t(e,n){for(var i,s=0;s<e.childNodes.length;s++)3===(i=e.childNodes[s]).nodeType?s+=n(i)?1:0:t(i,n)}(e.node,function t(i){var s,a,o;return(s=r.exec(i.data))&&(o=n.createElement(e.tagName),e.className&&(o.className=e.className),(a=i.splitText(s.index)).splitText(s[0].length),o.appendChild(a.cloneNode(!0)),i.parentNode.replaceChild(o,a)),!!s}))}),c=function(){"use strict";var e;function n(e,n){var i;(e=e||{}).input||t.error("input is missing"),n.mixin(this),this.$hint=t(e.hint),this.$input=t(e.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=(i=this.$input,t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:i.css("font-family"),fontSize:i.css("font-size"),fontStyle:i.css("font-style"),fontVariant:i.css("font-variant"),fontWeight:i.css("font-weight"),wordSpacing:i.css("word-spacing"),letterSpacing:i.css("letter-spacing"),textIndent:i.css("text-indent"),textRendering:i.css("text-rendering"),textTransform:i.css("text-transform")}).insertAfter(i)),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=s.noop)}return e={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return s.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},s.mixin(n.prototype,o,{_onBlur:function t(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function t(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function t(n){var i=e[n.which||n.keyCode];this._managePreventDefault(i,n),i&&this._shouldTrigger(i,n)&&this.trigger(i+"Keyed",n)},_onInput:function t(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function t(e,n){var s;switch(e){case"up":case"down":s=!i(n);break;default:s=!1}s&&n.preventDefault()},_shouldTrigger:function t(e,n){var s;return s="tab"!==e||!i(n)},_checkLanguageDirection:function t(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function t(e,i){var s,r,a,o;r=!!(s=(a=e,o=this.query,n.normalizeQuery(a)===n.normalizeQuery(o)))&&this.query.length!==e.length,this.query=e,i||s?!i&&r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,a=this;return t=s.bind(this._onBlur,this),n=s.bind(this._onFocus,this),i=s.bind(this._onKeydown,this),r=s.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!s.isMsie()||s.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){!e[t.which||t.keyCode]&&s.defer(s.bind(a._onInput,a,t))}),this},focus:function t(){this.$input.focus()},blur:function t(){this.$input.blur()},getLangDir:function t(){return this.dir},getQuery:function t(){return this.query||""},setQuery:function t(e,n){this.setInputValue(e),this._setQuery(e,n),this.trigger("queryChanged",this.query)},hasQueryChangedSinceLastFocus:function t(){return this.query!==this.queryWhenFocused},getInputValue:function t(){return this.$input.val()},setInputValue:function t(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function t(){},getHint:function t(){return this.$hint.val()},setHint:function t(e){this.$hint.val(e)},clearHint:function t(){this.setHint("")},clearHintIfInvalid:function t(){var e,n,i,s;i=(e=this.getInputValue())!==(n=this.getHint())&&0===n.indexOf(e),(s=""!==e&&i&&!this.hasOverflow())||this.clearHint()},hasFocus:function t(){return this.$input.is(":focus")},hasOverflow:function t(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var t,e,n;return(t=this.$input.val().length,e=this.$input[0].selectionStart,s.isNumber(e))?e===t:!document.selection||((n=document.selection.createRange()).moveStart("character",-t),t===n.text.length)},destroy:function e(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n;function i(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}}(),h=function(){"use strict";var e,n;function i(e,i){var r,a,o;(e=e||{}).templates=e.templates||{},e.templates.notFound=e.templates.notFound||e.templates.empty,e.source||t.error("missing source"),e.node||t.error("missing node"),e.name&&(r=e.name,!/^[_a-zA-Z0-9-]+$/.test(r))&&t.error("invalid dataset name: "+e.name),i.mixin(this),this.highlight=!!e.highlight,this.name=e.name||n(),this.limitget=e.limitget||5,this.limitview=e.limitview||5,this.displayFn=function t(e){return e=e||s.stringify,s.isFunction(e)?e:n;function n(t){return t[e]}}(e.display||e.displayKey),this.templates=(a=e.templates,o=this.displayFn,{notFound:a.notFound&&s.templatify(a.notFound),pending:a.pending&&s.templatify(a.pending),header:a.header&&s.templatify(a.header),footer:a.footer&&s.templatify(a.footer),suggestion:a.suggestion||function e(n){return t("<div>").text(o(n))}}),this.source=e.source.__ttAdapter?e.source.__ttAdapter():e.source,this.async=s.isUndefined(e.async)?this.source.length>2:!!e.async,this._resetLastSuggestion(),this.$el=t(e.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}return e={val:"tt-selectable-display",obj:"tt-selectable-object"},n=s.getIdGenerator(),i.extractData=function n(i){var s=t(i);return s.data(e.obj)?{val:s.data(e.val)||"",obj:s.data(e.obj)||null}:null},s.mixin(i.prototype,o,{_overwrite:function t(e,n){(n=n||[]).length?this._renderSuggestions(e,n):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,n,!1)},_append:function t(e,n){(n=n||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(e,n):n.length?this._renderSuggestions(e,n):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,n,!0)},_renderSuggestions:function t(e,n){var i;i=this._getSuggestionsFragment(e,n),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(e,n)).append(this._getFooter(e,n))},_appendSuggestions:function t(e,n){var i,s;s=(i=this._getSuggestionsFragment(e,n)).children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=s},_renderPending:function t(e){var n=this.templates.pending;this._resetLastSuggestion(),n&&this.$el.html(n({query:e,dataset:this.name}))},_renderNotFound:function t(e){var n=this.templates.notFound;this._resetLastSuggestion(),n&&this.$el.html(n({query:e,dataset:this.name}))},_empty:function t(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function n(i,r){var a,o=this;return a=document.createDocumentFragment(),s.each(r,function n(s){var r,u;u=o._injectQuery(i,s),r=t(o.templates.suggestion(u)).data(e.obj,s).data(e.val,o.displayFn(s)).addClass(o.classes.suggestion+" "+o.classes.selectable),a.appendChild(r[0])}),this.highlight&&u({className:this.classes.highlight,node:a,pattern:i}),t(a)},_getFooter:function t(e,n){return this.templates.footer?this.templates.footer({query:e,suggestions:n,dataset:this.name}):null},_getHeader:function t(e,n){return this.templates.header?this.templates.header({query:e,suggestions:n,dataset:this.name}):null},_resetLastSuggestion:function e(){this.$lastSuggestion=t()},_injectQuery:function t(e,n){return s.isObject(n)?s.mixin({_query:e},n):n},update:function e(n){var i=this,s=!1,r=!1,a=0;function o(t){!r&&(r=!0,a=(t=(t||[]).slice(0,i.limitget)).length,i._overwrite(n,t),a<i.limitget&&i.async&&i.trigger("asyncRequested",n))}this.cancel(),this.cancel=function e(){s=!0,i.cancel=t.noop,i.async&&i.trigger("asyncCanceled",n)},this.source(n,o,function e(r){r=r||[],!s&&a<Math.min(i.limitget,i.limitview)&&(i.cancel=t.noop,a+=r.length,i._append(n,r.slice(0,Math.min(i.limitget,i.limitview)-a)),i.async&&i.trigger("asyncReceived",n))}),r||o([])},cancel:t.noop,clear:function t(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function t(){return this.$el.is(":empty")},destroy:function e(){this.$el=t("<div>")}}),i}(),l=function(){"use strict";function e(e,n){var i=this;(e=e||{}).node||t.error("node is required"),n.mixin(this),this.$node=t(e.node),this.query=null,this.datasets=s.map(e.datasets,function e(s){var r=i.$node.find(s.node).first();return s.node=r.length?r:t("<div>").appendTo(i.$node),new h(s,n)})}return s.mixin(e.prototype,o,{_onSelectableClick:function e(n){this.trigger("selectableClicked",t(n.currentTarget))},_onRendered:function t(e,n,i,s){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",n,i,s)},_onCleared:function t(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function t(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function t(){return s.every(this.datasets,function t(e){return e.isEmpty()})},_getSelectables:function t(){return this.$node.find(this.selectors.selectable)},_removeCursor:function t(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function t(e){var n,i,s,r;i=(n=e.position().top)+e.outerHeight(!0),s=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),n<0?this.$node.scrollTop(s+n):r<i&&this.$node.scrollTop(s+(i-r))},bind:function(){var t,e=this;return t=s.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),s.each(this.datasets,function(t){t.onSync("asyncRequested",e._propagate,e).onSync("asyncCanceled",e._propagate,e).onSync("asyncReceived",e._propagate,e).onSync("rendered",e._onRendered,e).onSync("cleared",e._onCleared,e)}),this},isOpen:function t(){return this.$node.hasClass(this.classes.open)},open:function t(){this.$node.addClass(this.classes.open)},close:function t(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function t(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function t(e){var n,i,s,r;return i=this.getActiveSelectable(),n=this._getSelectables(),-1===(r=(r=((r=(s=i?n.index(i):-1)+e)+1)%(n.length+1)-1)<-1?n.length-1:r)?null:n.eq(r)},setCursor:function t(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function t(e){return e&&e.length?h.extractData(e):null},getActiveSelectable:function t(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function t(){var e=this._getSelectables().first();return e.length?e:null},update:function t(e){var n=e!==this.query;return n&&(this.query=e,s.each(this.datasets,function t(n){n.update(e)})),n},empty:function t(){s.each(this.datasets,function t(e){e.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function e(){this.$node.off(".tt"),this.$node=t("<div>"),s.each(this.datasets,function t(e){e.destroy()})}}),e}(),d=function(){"use strict";var t=l.prototype;function e(){l.apply(this,[].slice.call(arguments,0))}return s.mixin(e.prototype,l.prototype,{open:function e(){return this._allDatasetsEmpty()||this._show(),t.open.apply(this,[].slice.call(arguments,0))},close:function e(){return this._hide(),t.close.apply(this,[].slice.call(arguments,0))},_onRendered:function e(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function e(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function e(n){return this.$node.css("ltr"===n?this.css.ltr:this.css.rtl),t.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function t(){this.$node.hide()},_show:function t(){this.$node.css("display","block")}}),e}(),p=function(){"use strict";function e(e,i){var r,a,o,u,c,h,l,d,p,f,g;(e=e||{}).input||t.error("missing input"),e.menu||t.error("missing menu"),e.eventBus||t.error("missing event bus"),i.mixin(this),this.eventBus=e.eventBus,this.minLength=s.isNumber(e.minLength)?e.minLength:1,this.input=e.input,this.menu=e.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),r=n(this,"activate","open","_onFocused"),a=n(this,"deactivate","_onBlurred"),o=n(this,"isActive","isOpen","_onEnterKeyed"),u=n(this,"isActive","isOpen","_onTabKeyed"),c=n(this,"isActive","_onEscKeyed"),h=n(this,"isActive","open","_onUpKeyed"),l=n(this,"isActive","open","_onDownKeyed"),d=n(this,"isActive","isOpen","_onLeftKeyed"),p=n(this,"isActive","isOpen","_onRightKeyed"),f=n(this,"_openIfActive","_onQueryChanged"),g=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",r,this).onSync("blurred",a,this).onSync("enterKeyed",o,this).onSync("tabKeyed",u,this).onSync("escKeyed",c,this).onSync("upKeyed",h,this).onSync("downKeyed",l,this).onSync("leftKeyed",d,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}return s.mixin(e.prototype,{_hacks:function e(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var e,r,a;e=document.activeElement,r=i.is(e),a=i.has(e).length>0,s.isMsie()&&(r||a)&&(t.preventDefault(),t.stopImmediatePropagation(),s.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function t(e,n){this.select(n)},_onDatasetCleared:function t(){this._updateHint()},_onDatasetRendered:function t(e,n,i,s){this._updateHint(),this.eventBus.trigger("render",i,s,n)},_onAsyncRequested:function t(e,n,i){this.eventBus.trigger("asyncrequest",i,n)},_onAsyncCanceled:function t(e,n,i){this.eventBus.trigger("asynccancel",i,n)},_onAsyncReceived:function t(e,n,i){this.eventBus.trigger("asyncreceive",i,n)},_onFocused:function t(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function t(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function t(e,n){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&n.preventDefault()},_onTabKeyed:function t(e,n){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&n.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&n.preventDefault()},_onEscKeyed:function t(){this.close()},_onUpKeyed:function t(){this.moveCursor(-1)},_onDownKeyed:function t(){this.moveCursor(1)},_onLeftKeyed:function t(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function t(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function t(e,n){this._minLengthMet(n)?this.menu.update(n):this.menu.empty()},_onWhitespaceChanged:function t(){this._updateHint()},_onLangDirChanged:function t(e,n){this.dir!==n&&(this.dir=n,this.menu.setLanguageDirection(n))},_openIfActive:function t(){this.isActive()&&this.open()},_minLengthMet:function t(e){return(e=s.isString(e)?e:this.input.getQuery()||"").length>=this.minLength},_updateHint:function t(){var e,n,i,r,a,o,u;e=this.menu.getTopSelectable(),n=this.menu.getSelectableData(e),i=this.input.getInputValue(),!n||s.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=c.normalizeQuery(i),(u=(o=RegExp("^(?:"+(a=s.escapeRegExChars(r))+")(.+$)","i")).exec(n.val))&&this.input.setHint(i+u[1]))},isEnabled:function t(){return this.enabled},enable:function t(){this.enabled=!0},disable:function t(){this.enabled=!1},isActive:function t(){return this.active},activate:function t(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function t(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function t(){return this.menu.isOpen()},open:function t(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function t(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function t(e){this.input.setQuery(s.toStr(e))},getVal:function t(){return this.input.getQuery()},select:function t(e){var n=this.menu.getSelectableData(e);return!!n&&!this.eventBus.before("select",n.obj)&&(this.input.setQuery(n.val,!0),this.eventBus.trigger("select",n.obj),this.close(),!0)},autocomplete:function t(e){var n,i,s;return n=this.input.getQuery(),!!(s=(i=this.menu.getSelectableData(e))&&n!==i.val)&&!this.eventBus.before("autocomplete",i.obj)&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function t(e){var n,i,s,r,a;return n=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(e),r=(s=this.menu.getSelectableData(i))?s.obj:null,!((a=this._minLengthMet()&&this.menu.update(n))||this.eventBus.before("cursorchange",r))&&(this.menu.setCursor(i),s?this.input.setInputValue(s.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function t(){this.input.destroy(),this.menu.destroy()}}),e;function n(t){var e=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);s.each(e,function(e){return t[e].apply(t,n)})}}}();!function(){"use strict";var e,n,i;function o(e,i){e.each(function(){var e,s=t(this);(e=s.data(n.typeahead))&&i(e,s)})}function u(e){var n,i;return(i=(n=s.isJQuery(e)||s.isElement(e))?t(e).first():[]).length?i:null}e=t.fn.typeahead,n={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},i={initialize:function e(i,o){var h;return o=s.isArray(o)?o:[].slice.call(arguments,1),h=r((i=i||{}).classNames),this.each(function e(){var r,f,g,y,v,m,b,S,C,w,A,$,k,D;s.each(o,function(t){t.highlight=!!i.highlight}),r=t(this),f=t(h.html.wrapper),g=u(i.hint),y=u(i.menu),v=!1!==i.hint&&!g,m=!1!==i.menu&&!y,v&&(g=($=r,k=h,$.clone().addClass(k.classes.hint).removeData().css(k.css.hint).css((D=$,{backgroundAttachment:D.css("background-attachment"),backgroundClip:D.css("background-clip"),backgroundColor:D.css("background-color"),backgroundImage:D.css("background-image"),backgroundOrigin:D.css("background-origin"),backgroundPosition:D.css("background-position"),backgroundRepeat:D.css("background-repeat"),backgroundSize:D.css("background-size")})).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1}))),m&&(y=t(h.html.menu).css(h.css.menu)),g&&g.val(""),r=function t(e,i){e.data(n.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(i.classes.input).attr({autocomplete:"off",spellcheck:!1});try{e.attr("dir")||e.attr("dir","auto")}catch(s){}return e}(r,h),(v||m)&&(f.css(h.css.wrapper),r.css(v?h.css.input:h.css.inputWithNoHint),r.wrap(f).parent().prepend(v?g:null).append(m?y:null)),A=m?d:l,b=new a({el:r}),S=new c({hint:g,input:r},h),C=new A({node:y,datasets:o},h),w=new p({input:S,menu:C,eventBus:b,minLength:i.minLength},h),r.data(n.www,h),r.data(n.typeahead,w)})},isEnabled:function t(){var e;return o(this.first(),function(t){e=t.isEnabled()}),e},enable:function t(){return o(this,function(t){t.enable()}),this},disable:function t(){return o(this,function(t){t.disable()}),this},isActive:function t(){var e;return o(this.first(),function(t){e=t.isActive()}),e},activate:function t(){return o(this,function(t){t.activate()}),this},deactivate:function t(){return o(this,function(t){t.deactivate()}),this},isOpen:function t(){var e;return o(this.first(),function(t){e=t.isOpen()}),e},open:function t(){return o(this,function(t){t.open()}),this},close:function t(){return o(this,function(t){t.close()}),this},select:function e(n){var i=!1,s=t(n);return o(this.first(),function(t){i=t.select(s)}),i},autocomplete:function e(n){var i=!1,s=t(n);return o(this.first(),function(t){i=t.autocomplete(s)}),i},moveCursor:function t(e){var n=!1;return o(this.first(),function(t){n=t.moveCursor(e)}),n},val:function t(e){var n;return arguments.length?(o(this,function(t){t.setVal(e)}),this):(o(this.first(),function(t){n=t.getVal()}),n)},destroy:function t(){return o(this,function(t,e){var i,r,a;r=(i=e).data(n.www),a=i.parent().filter(r.selectors.wrapper),s.each(i.data(n.attrs),function(t,e){s.isUndefined(t)?i.removeAttr(e):i.attr(e,t)}),i.removeData(n.typeahead).removeData(n.www).removeData(n.attr).removeClass(r.classes.input),a.length&&(i.detach().insertAfter(a),a.remove()),t.destroy()}),this}},t.fn.typeahead=function(t){return i[t]?i[t].apply(this,[].slice.call(arguments,1)):i.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function n(){return t.fn.typeahead=e,this}}()});